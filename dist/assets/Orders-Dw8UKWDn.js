import{j as e}from"./vendor-motion-Dl8lXUsH.js";import{a as x}from"./useSeller-BnsEhuCD.js";import{P as m,aB as o,aH as u,h as p,aK as h}from"./vendor-icons-BBHJ0ezg.js";import{L as n}from"./vendor-react-Ojr5pEEK.js";import"./index-76QHltB_.js";import"./vendor-supabase-CIvuJI4W.js";import"./vendor-date-BvD7TL1z.js";const M=()=>{const{orders:a,isLoading:c,error:r}=x();if(c)return e.jsx("div",{className:"flex items-center justify-center h-[calc(100vh-200px)]",children:e.jsx("div",{className:"animate-spin w-8 h-8 border-2 border-accent-primary border-t-transparent rounded-full"})});if(r)return e.jsx("div",{className:"p-6 bg-red-500/10 border border-red-500/20 rounded-xl",children:e.jsxs("p",{className:"text-red-500",children:["Error: ",r]})});const d=t=>({paid:"bg-accent-tertiary/10 text-accent-tertiary",delivered:"bg-accent-primary/10 text-accent-primary",completed:"bg-accent-primary/20 text-accent-primary",refunded:"bg-red-500/10 text-red-500",disputed:"bg-accent-secondary/10 text-accent-secondary-fg"})[t]||"bg-surfaceHighlight text-textMuted";return e.jsxs("div",{className:"space-y-8 animate-fade-in pb-12",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-display font-bold text-textMain mb-2",children:"Your Sales"}),e.jsx("p",{className:"text-textMuted",children:"Manage orders for your kits"})]}),a.length===0?e.jsxs("div",{className:"flex flex-col items-center justify-center py-24 text-center bg-surface border border-border border-dashed rounded-3xl",children:[e.jsx("div",{className:"w-16 h-16 bg-surfaceHighlight rounded-full flex items-center justify-center mb-4",children:e.jsx(m,{className:"text-textMuted",size:24})}),e.jsx("p",{className:"text-textMain font-medium text-lg",children:"No sales yet"}),e.jsx("p",{className:"text-textMuted text-sm",children:"When someone buys your kit, it will appear here"})]}):e.jsx("div",{className:"space-y-4",children:a.map(t=>{var s,i,l;return e.jsx("div",{className:"p-6 rounded-2xl bg-surface border border-border hover:border-accent-primary/30 transition-all",children:e.jsxs("div",{className:"flex items-start gap-6",children:[((s=t.listing)==null?void 0:s.image_url)&&e.jsx("img",{src:t.listing.image_url,alt:t.listing.title,className:"w-24 h-16 rounded-lg object-cover flex-shrink-0"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-start justify-between gap-4 mb-2",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-textMain line-clamp-1",children:((i=t.listing)==null?void 0:i.title)||"Unknown Kit"}),e.jsxs("p",{className:"text-sm text-textMuted",children:["Order #",t.order_number]})]}),e.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${d(t.status)}`,children:t.status})]}),e.jsxs("div",{className:"flex items-center gap-6 text-sm text-textMuted mb-4",children:[e.jsxs("span",{className:"flex items-center gap-1.5",children:[e.jsx(o,{size:14}),new Date(t.created_at).toLocaleDateString()]}),e.jsxs("span",{className:"flex items-center gap-1.5",children:[e.jsx(u,{size:14}),"Buyer: ",((l=t.buyer)==null?void 0:l.full_name)||"Anonymous"]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-textMuted text-sm",children:"Your earnings: "}),e.jsxs("span",{className:"text-xl font-bold text-accent-primary",children:["₹",t.seller_amount]}),e.jsxs("span",{className:"text-textMuted text-sm ml-2",children:["(from ₹",t.price_amount,")"]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[["paid","delivered","completed"].includes(t.status)&&e.jsxs(n,{to:`/messages/${t.id}`,className:"px-4 py-2 rounded-xl bg-accent-tertiary/10 text-accent-tertiary font-medium hover:bg-accent-tertiary/20 transition-colors flex items-center gap-2",children:[e.jsx(p,{size:16}),"Message"]}),e.jsxs(n,{to:`/order/${t.id}`,className:"px-4 py-2 rounded-xl bg-surfaceHighlight text-textMuted hover:text-textMain transition-colors flex items-center gap-2",children:["View ",e.jsx(h,{size:14})]})]})]})]})]})},t.id)})})]})};export{M as default};
