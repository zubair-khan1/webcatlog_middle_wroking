import{j as e}from"./vendor-motion-Dl8lXUsH.js";import{u as w,a as M,b as _}from"./useSeller-BnsEhuCD.js";import{a as S}from"./useSellerInquiries-wR5RBeOa.js";import{B as L}from"./index-76QHltB_.js";import{D as k,P as c,w as n,at as z,aj as D,aA as $,aK as d,aW as C}from"./vendor-icons-BBHJ0ezg.js";import{u as P,L as l}from"./vendor-react-Ojr5pEEK.js";import"./vendor-supabase-CIvuJI4W.js";import"./vendor-date-BvD7TL1z.js";const K=()=>{const g=P(),{earnings:t,isLoading:h}=w(),{orders:b,isLoading:j}=M(),{payouts:f,isLoading:N}=_(),{inquiries:i,isLoading:y,unreadCount:o}=S();if(h||j||N||y)return e.jsx("div",{className:"flex items-center justify-center h-[calc(100vh-200px)]",children:e.jsx("div",{className:"animate-spin w-8 h-8 border-2 border-accent-primary border-t-transparent rounded-full"})});const x=b.slice(0,5),m=f.filter(s=>s.status==="pending"||s.status==="scheduled"),u=i.slice(0,3),v=[{label:"Total Earnings",value:`₹${((t==null?void 0:t.total_earnings)||0).toLocaleString()}`,icon:k,color:"accent-primary",desc:"After platform commission"},{label:"Total Sales",value:((t==null?void 0:t.orders_count)||0).toString(),icon:c,color:"accent-tertiary",desc:"Completed orders"},{label:"My Submissions",value:"View",icon:c,color:"accent-primary",desc:"Track submission status",link:"/seller/submissions"},{label:"Inquiries",value:i.length.toString(),icon:n,color:"accent-secondary",desc:`${o} new`,isHighlight:o>0},{label:"Pending Payout",value:`₹${((t==null?void 0:t.pending_payouts)||0).toLocaleString()}`,icon:z,color:"accent-secondary",desc:"Processing"}];return e.jsxs("div",{className:"space-y-8 animate-fade-in pb-12",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-display font-bold text-textMain mb-2",children:"Seller Dashboard"}),e.jsx("p",{className:"text-textMuted",children:"Track your sales, earnings, and messages"})]}),e.jsx(L,{variant:"primary",size:"lg",onClick:()=>g("/submit"),icon:e.jsx(D,{size:18}),children:"Submit New Kit"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-6",children:v.map(s=>{const r=s.icon,a=e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsx("div",{className:`p-3 rounded-xl bg-${s.color}/10`,children:e.jsx(r,{size:22,className:`text-${s.color}`})}),e.jsx($,{size:16,className:"text-accent-primary opacity-50"})]}),e.jsx("p",{className:"text-3xl font-display font-bold text-textMain mb-1",children:s.value}),e.jsx("p",{className:"text-textMuted text-sm",children:s.desc})]});return s.link?e.jsx(l,{to:s.link,className:`p-6 rounded-2xl bg-surface border transition-all group cursor-pointer ${s.isHighlight?"border-accent-secondary shadow-[0_0_15px_-5px_var(--accent-secondary)]":"border-border hover:border-accent-primary/30"}`,children:a},s.label):e.jsx("div",{className:`p-6 rounded-2xl bg-surface border transition-all group ${s.isHighlight?"border-accent-secondary shadow-[0_0_15px_-5px_var(--accent-secondary)]":"border-border hover:border-accent-primary/30"}`,children:a},s.label)})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[e.jsxs("div",{className:"p-6 rounded-2xl bg-surface border border-border",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("h2",{className:"text-lg font-bold text-textMain flex items-center gap-2",children:[e.jsx(n,{size:20,className:"text-accent-secondary"}),"Recent Inquiries"]}),i.length>0&&e.jsxs("button",{onClick:()=>alert("Full inbox coming shortly!"),className:"text-sm text-accent-tertiary hover:underline flex items-center gap-1",children:["View all ",e.jsx(d,{size:14})]})]}),u.length===0?e.jsxs("div",{className:"text-center py-8 text-textMuted bg-surfaceHighlight/30 rounded-xl border border-dashed border-border/50",children:[e.jsx(n,{size:32,className:"mx-auto mb-3 opacity-30"}),e.jsx("p",{className:"text-sm",children:"No new inquiries"})]}):e.jsx("div",{className:"space-y-4",children:u.map(s=>{var r,a,p;return e.jsxs("div",{className:`p-4 rounded-xl border transition-all ${s.status==="new"?"bg-surfaceHighlight border-accent-secondary/30 shadow-sm":"bg-surface border-border/50"}`,children:[e.jsxs("div",{className:"flex items-start justify-between gap-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-surface border border-border flex items-center justify-center text-textMuted font-bold",children:(((r=s.buyer)==null?void 0:r.full_name)||"U")[0]}),e.jsxs("div",{children:[e.jsxs("p",{className:"font-medium text-textMain",children:[s.subject,s.status==="new"&&e.jsx("span",{className:"ml-2 text-[10px] bg-accent-secondary text-accent-secondary-fg px-1.5 py-0.5 rounded-full uppercase tracking-wider font-bold",children:"New"})]}),e.jsxs("p",{className:"text-xs text-textMuted",children:["From ",e.jsx("span",{className:"text-textMain",children:((a=s.buyer)==null?void 0:a.full_name)||"User"})," • ",new Date(s.created_at).toLocaleDateString()]})]})]}),e.jsx("div",{className:"text-right",children:e.jsx("button",{className:"text-xs font-medium text-accent-primary hover:underline",children:"Reply via Email"})})]}),e.jsxs("div",{className:"mt-3 pl-[52px]",children:[e.jsxs("p",{className:"text-sm text-textSecondary line-clamp-2 bg-black/20 p-2 rounded-lg border border-white/5",children:['"',s.message,'"']}),e.jsxs("p",{className:"text-[10px] text-textMuted mt-2 flex items-center gap-1",children:[e.jsx(c,{size:10}),"Regarding: ",(p=s.listing)==null?void 0:p.title]})]})]},s.id)})})]}),e.jsxs("div",{className:"p-6 rounded-2xl bg-surface border border-border",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-lg font-bold text-textMain",children:"Recent Sales"}),e.jsxs(l,{to:"/seller/orders",className:"text-sm text-accent-tertiary hover:underline flex items-center gap-1",children:["View all ",e.jsx(d,{size:14})]})]}),x.length===0?e.jsxs("div",{className:"text-center py-12 text-textMuted",children:[e.jsx(c,{size:40,className:"mx-auto mb-4 opacity-30"}),e.jsx("p",{children:"No sales yet"}),e.jsx("p",{className:"text-sm",children:"Your sales will appear here"})]}):e.jsx("div",{className:"space-y-4",children:x.map(s=>{var r,a;return e.jsxs("div",{className:"flex items-center justify-between p-4 rounded-xl bg-surfaceHighlight border border-border/50 hover:border-accent-primary/30 transition-colors",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[((r=s.listing)==null?void 0:r.image_url)&&e.jsx("img",{src:s.listing.image_url,alt:s.listing.title,className:"w-12 h-12 rounded-lg object-cover"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-textMain line-clamp-1",children:((a=s.listing)==null?void 0:a.title)||"Unknown Kit"}),e.jsx("p",{className:"text-sm text-textMuted",children:new Date(s.created_at).toLocaleDateString()})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:"font-bold text-accent-primary",children:["+₹",s.seller_amount]}),e.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full ${s.status==="completed"?"bg-accent-primary/10 text-accent-primary":s.status==="paid"?"bg-accent-tertiary/10 text-accent-tertiary":"bg-accent-secondary/10 text-accent-secondary-fg"}`,children:s.status})]})]},s.id)})})]})]}),e.jsxs("div",{className:"p-6 rounded-2xl bg-surface border border-border h-fit",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-lg font-bold text-textMain",children:"Payouts"}),e.jsxs(l,{to:"/seller/payouts",className:"text-sm text-accent-tertiary hover:underline flex items-center gap-1",children:["Manage ",e.jsx(d,{size:14})]})]}),m.length===0?e.jsxs("div",{className:"text-center py-8 text-textMuted",children:[e.jsx(C,{size:32,className:"mx-auto mb-3 opacity-30"}),e.jsx("p",{className:"text-sm",children:"No pending payouts"})]}):e.jsx("div",{className:"space-y-3",children:m.slice(0,4).map(s=>e.jsxs("div",{className:"p-3 rounded-xl bg-surfaceHighlight border border-border/50",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("span",{className:"font-medium text-textMain",children:["₹",s.amount]}),e.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full ${s.status==="scheduled"?"bg-accent-secondary/10 text-accent-secondary-fg":"bg-accent-tertiary/10 text-accent-tertiary"}`,children:s.status})]}),s.scheduled_at&&e.jsxs("p",{className:"text-xs text-textMuted mt-1",children:["Est. ",new Date(s.scheduled_at).toLocaleDateString()]})]},s.id))}),e.jsx(l,{to:"/seller/bank",className:"mt-6 block w-full text-center px-4 py-3 rounded-xl bg-accent-primary/10 text-accent-primary font-medium hover:bg-accent-primary/20 transition-colors",children:"Manage Bank Account"})]})]})]})};export{K as default};
