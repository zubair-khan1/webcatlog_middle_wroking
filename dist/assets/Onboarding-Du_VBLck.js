import{j as e}from"./vendor-motion-Dl8lXUsH.js";import{b as N,aI as S,J as w,e as M,E as v,a as c}from"./vendor-icons-BBHJ0ezg.js";import{B as j,b as k,s as _}from"./index-76QHltB_.js";import{u as I}from"./vendor-react-Ojr5pEEK.js";import"./vendor-supabase-CIvuJI4W.js";import"./vendor-date-BvD7TL1z.js";const C=({currentStep:r,totalSteps:i,children:s,onSkip:a})=>e.jsxs("div",{className:"min-h-screen bg-background flex flex-col",children:[e.jsxs("div",{className:"w-full px-6 py-6 flex items-center justify-between",children:[e.jsx("div",{className:"w-8 h-8 rounded-lg bg-accent-primary/20 flex items-center justify-center",children:e.jsx("span",{className:"font-display font-bold text-accent-primary",children:"S"})}),e.jsx("div",{className:"flex-1 max-w-xs mx-8",children:e.jsx("div",{className:"h-1.5 w-full bg-surfaceHighlight rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-accent-primary transition-all duration-500 ease-out",style:{width:`${r/i*100}%`}})})}),a&&e.jsx("button",{onClick:a,className:"text-sm text-textMuted hover:text-textMain transition-colors",children:"Skip"}),!a&&e.jsx("div",{className:"w-8"})," "]}),e.jsx("div",{className:"flex-1 flex flex-col items-center justify-center p-6 animate-fade-in",children:e.jsx("div",{className:"w-full max-w-xl",children:s})})]}),B=({onSelect:r})=>{const i=[{id:"buy",icon:N,title:"I want to buy a SaaS / MVP",desc:"Looking for ready-made codebases"},{id:"sell",icon:S,title:"I want to sell a SaaS / MVP",desc:"Monetize my existing projects"},{id:"explore",icon:w,title:"I’m exploring / learning",desc:"Just browsing the market"},{id:"unsure",icon:M,title:"I’m not sure yet",desc:"Show me what’s possible"}];return e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"text-center space-y-2",children:[e.jsx("h1",{className:"text-3xl font-display font-bold text-textMain",children:"What best describes you right now?"}),e.jsx("p",{className:"text-textMuted text-lg",children:"We'll personalize your experience based on your goal."})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:i.map(s=>e.jsxs("button",{onClick:()=>r(s.id),className:"group relative p-6 bg-surface border border-border rounded-xl text-left hover:border-accent-primary/50 hover:bg-surfaceHighlight transition-all duration-200",children:[e.jsx("div",{className:"mb-4 w-10 h-10 rounded-lg bg-surfaceHighlight group-hover:bg-background flex items-center justify-center transition-colors",children:e.jsx(s.icon,{size:20,className:"text-accent-primary"})}),e.jsx("h3",{className:"font-bold text-textMain mb-1",children:s.title}),e.jsx("p",{className:"text-sm text-textMuted",children:s.desc}),e.jsx("div",{className:"absolute top-6 right-6 opacity-0 group-hover:opacity-100 transition-opacity transform translate-x-2 group-hover:translate-x-0",children:e.jsx(v,{size:16,className:"text-accent-primary"})})]},s.id))})]})},D=({intent:r,onComplete:i})=>{const s=r==="sell",[a,x]=c.useState(""),[o,y]=c.useState(""),[d,g]=c.useState(""),[n,u]=c.useState(""),[l,p]=c.useState(""),f=()=>{i(s?{seller_type:d,seller_product_focus:n,seller_readiness:l}:{interest_type:a,experience_level:o})};return s?e.jsxs("div",{className:"space-y-8 animate-fade-in",children:[e.jsxs("div",{className:"text-center space-y-2",children:[e.jsx("h1",{className:"text-3xl font-display font-bold text-textMain",children:"Tell us about your seller journey"}),e.jsx("p",{className:"text-textMuted text-lg",children:"This helps us match you with the right buyers."})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsx("label",{className:"text-sm font-medium text-textMain",children:"What type of seller are you?"}),e.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-3",children:["Solo Developer","Agency","Indie Hacker","Team"].map(t=>e.jsx("button",{onClick:()=>g(t),className:`p-3 rounded-lg border text-sm transition-all ${d===t?"border-accent-primary bg-accent-primary/5 text-accent-primary font-medium":"border-border bg-surface text-textMuted hover:border-accent-primary/30"}`,children:t},t))})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("label",{className:"text-sm font-medium text-textMain",children:"What are you planning to sell?"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:["Full SaaS Business","MVP / Boilerplate","UI Kit / Component"].map(t=>e.jsx("button",{onClick:()=>u(t),className:`p-3 rounded-lg border text-sm transition-all ${n===t?"border-accent-primary bg-accent-primary/5 text-accent-primary font-medium":"border-border bg-surface text-textMuted hover:border-accent-primary/30"}`,children:t},t))})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("label",{className:"text-sm font-medium text-textMain",children:"How soon are you ready to list?"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:["Ready Now","In a few weeks","Just Exploring"].map(t=>e.jsx("button",{onClick:()=>p(t),className:`p-3 rounded-lg border text-sm transition-all ${l===t?"border-accent-primary bg-accent-primary/5 text-accent-primary font-medium":"border-border bg-surface text-textMuted hover:border-accent-primary/30"}`,children:t},t))})]}),e.jsx("div",{className:"pt-4",children:e.jsx(j,{variant:"primary",className:"w-full py-4 text-lg",onClick:f,disabled:!d||!n||!l,children:"Continue"})})]})]}):e.jsxs("div",{className:"space-y-8 animate-fade-in",children:[e.jsxs("div",{className:"text-center space-y-2",children:[e.jsx("h1",{className:"text-3xl font-display font-bold text-textMain",children:"What are you looking to build?"}),e.jsx("p",{className:"text-textMuted text-lg",children:"We'll recommend the best blueprints for you."})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsx("label",{className:"text-sm font-medium text-textMain",children:"Primary Interest"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:["AI / LLM Wrappers","SaaS Tools","E-commerce","Micro-SaaS","Internal Tools","Mobile Apps"].map(t=>e.jsx("button",{onClick:()=>x(t),className:`p-4 rounded-lg border text-left text-sm transition-all ${a===t?"border-accent-primary bg-accent-primary/5 text-accent-primary font-medium":"border-border bg-surface text-textMuted hover:border-accent-primary/30"}`,children:t},t))})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("label",{className:"text-sm font-medium text-textMain",children:"Tech Experience Level"}),e.jsx("div",{className:"flex gap-3",children:["Beginner","Intermediate","Pro Developer"].map(t=>e.jsx("button",{onClick:()=>y(t),className:`flex-1 p-3 rounded-lg border text-sm transition-all ${o===t?"border-accent-primary bg-accent-primary/5 text-accent-primary font-medium":"border-border bg-surface text-textMuted hover:border-accent-primary/30"}`,children:t},t))})]}),e.jsx("div",{className:"pt-4",children:e.jsx(j,{variant:"primary",className:"w-full py-4 text-lg",onClick:f,disabled:!a||!o,children:"See My Recommendations"})})]})]})},E=({data:r,onComplete:i})=>{const[s,a]=c.useState(""),[x,o]=c.useState(!1),d=(()=>{const{primary_intent:n,interest_type:u,seller_type:l,seller_product_focus:p}=r;return n==="sell"?`You're a ${l||"creator"} planning to sell ${p||"digital products"}. We'll help you showcase it the right way.`:n==="buy"?`You're here to build ${u||"something great"}. SprintSaaS will tailor your experience around this.`:n==="explore"?`You're exploring the market for ${u||"inspiration"}. Let's show you what's possible.`:"Welcome to SprintSaaS. We're glad you're here to explore the future of software."})();c.useEffect(()=>{let n=0;const l=setInterval(()=>{n<d.length?(a(p=>p+d.charAt(n)),n++):(clearInterval(l),setTimeout(()=>o(!0),500))},30);return()=>clearInterval(l)},[d]);const g=()=>r.primary_intent==="sell"?"Go to Seller Dashboard":r.primary_intent==="buy"?"Explore Blueprints":"Start Exploring";return e.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-center space-y-12",children:[e.jsxs("h1",{className:"text-3xl md:text-4xl font-display leading-relaxed text-textMain max-w-2xl min-h-[160px]",children:[s,!x&&e.jsx("span",{className:"animate-pulse text-accent-primary ml-1",children:"|"})]}),e.jsx("div",{className:`transition-all duration-700 transform ${x?"opacity-100 translate-y-0":"opacity-0 translate-y-4"}`,children:e.jsxs("button",{onClick:i,className:"group flex items-center gap-3 px-8 py-4 bg-textMain text-background rounded-full font-bold text-lg hover:bg-accent-primary hover:text-white transition-all duration-300 shadow-xl hover:shadow-2xl hover:shadow-accent-primary/20",children:[g(),e.jsx(v,{size:20,className:"group-hover:translate-x-1 transition-transform"})]})})]})},z=()=>{const r=I(),{user:i,refreshProfile:s}=k(),[a,x]=c.useState(1),[o,y]=c.useState({}),[d,g]=c.useState(!1);c.useEffect(()=>{},[i,r]);const n=h=>{const m={...o,primary_intent:h};y(m),h==="unsure"?l(m):x(2)},u=h=>{const m={...o,...h};y(m),x(3)},l=async(h=o)=>{if(i){g(!0);try{const m={...h,onboarding_completed:!0,onboarding_completed_at:new Date().toISOString()},{error:b}=await _.from("profiles").update(m).eq("id",i.id);if(b)throw b;s&&await s(),h.primary_intent==="sell"?r("/seller"):r("/mvp-kits")}catch(m){console.error("Onboarding save error:",m),r("/dashboard")}finally{g(!1)}}},p=()=>{l({primary_intent:"unsure",onboarding_completed:!0,onboarding_completed_at:new Date().toISOString()})},f=()=>{switch(a){case 1:return e.jsx(B,{onSelect:n});case 2:return e.jsx(D,{intent:o.primary_intent,onComplete:u});case 3:return e.jsx(E,{data:o,onComplete:()=>l()});default:return null}},t=a<3;return e.jsx(C,{currentStep:a,totalSteps:3,onSkip:t?p:void 0,children:f()})};export{z as default};
